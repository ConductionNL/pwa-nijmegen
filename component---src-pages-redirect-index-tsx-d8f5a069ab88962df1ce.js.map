{"version":3,"file":"component---src-pages-redirect-index-tsx-d8f5a069ab88962df1ce.js","mappings":"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","sources":["webpack://pwa/./src/components/common/footer.tsx","webpack://pwa/./src/images/logo_nijmegen.svg","webpack://pwa/./src/components/common/header.tsx","webpack://pwa/./src/components/common/menu.tsx","webpack://pwa/./src/components/common/layout.tsx","webpack://pwa/./src/pages/redirect/index.tsx","webpack://pwa/./src/services/auth.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { ThemeSwitcher } from \"../theme-switcher/theme-switcher\";\nimport { Link } from \"gatsby\";\n\nexport default function Footer() {\n  return (\n    <footer className=\"utrecht-page-footer\">\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12  col-sm-4\">\n            <h4 className=\"utrecht-heading-4 utrecht-heading-4--distanced\">\n              Diensten\n            </h4>\n            <p className=\"utrecht-paragraph\">\n              <Link to=\"/moving\" color=\"inherit\">\n                Verhuizen\n              </Link>\n            </p>\n            <p className=\"utrecht-paragraph\">\n              <Link to=\"/marriage\" color=\"inherit\">\n                Huwelijk\n              </Link>\n            </p>\n            <p className=\"utrecht-paragraph\">\n              <Link to=\"/certificates\" color=\"inherit\">\n                Uittreksels\n              </Link>\n            </p>\n          </div>\n\n          <div className=\"col-xs-12  col-sm-4\">\n            <address className=\"utrecht-page-footer__address utrecht-page-footer__address--reset-address\">\n              <h4 className=\"utrecht-heading-4 utrecht-heading-4--distanced\">\n                Contact\n              </h4>\n              <p className=\"utrecht-paragraph\">\n                <i className=\"fas fa-building\" /> Stadswinkel, MariÃ«nburg 30\n              </p>\n              <p className=\"utrecht-paragraph\">\n                <a href=\"tel:14 024\" color=\"inherit\">\n                  <i className=\"fas fa-phone\" /> 14 024\n                </a>\n              </p>\n              <p className=\"utrecht-paragraph\">\n                <a href=\"mailto:gemeente@nijmegen.nl\" color=\"inherit\">\n                  <i className=\"fas fa-mail\" /> gemeente@nijmegen.nl\n                </a>\n              </p>\n            </address>\n          </div>\n\n          <div className=\"col-xs-12  col-sm-4\">\n            <h4 className=\"utrecht-heading-4 utrecht-heading-4--distanced\">\n              Openingstijden\n            </h4>\n            <p className=\"utrecht-paragraph\">\n              Maandag - woensdag: 9.00 - 17.00 <br />\n              Donderdag: 9.00 - 20.00 <br />\n              Vrijdag: 9.00 - 17.00\n            </p>\n          </div>\n\n        </div>\n      </div>\n    </footer >\n  );\n}\n","export default __webpack_public_path__ + \"static/logo_nijmegen-4160426db19c28bf55bb19d48ab85ce7.svg\";","import * as React from \"react\";\nimport Logo from \"../../images/logo_nijmegen.svg\";\n\nexport default function Header() {\n  return (\n    <header className=\"utrecht-page-header\">\n      <div className=\"header-align container\">\n        <img src={Logo} className=\"utrecht-logo\"/>\n      </div>\n    </header>\n  );\n}\n","import * as React from \"react\";\nimport { useUrlContext } from \"../../context/urlContext\";\nimport { getUser, isLoggedIn, logout } from \"../../services/auth\";\nimport { navigate } from \"gatsby-link\";\n\nexport default function MainMenu() {\n  const handleLogout = () => {\n    logout();\n    navigate(\"/\");\n  };\n\n  React.useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      setContext({\n        baseUrl: window.GATSBY_BASE_URL,\n        frontendUrl: window.GATSBY_FRONTEND_URL,\n      });\n    }\n  }, []);\n  const [context, setContext] = React.useState({\n    baseUrl: \"\",\n    frontendUrl: \"\",\n  });\n\n  return (\n    <div className=\"utrecht-navhtml\">\n      <div className=\"container\">\n      <nav className=\"topnav utrecht-topnav__list\">\n          <div className=\"d-inline\">\n            <ul className=\"utrecht-topnav__list\">\n              <li className=\"utrecht-topnav__item\">\n                {isLoggedIn() && (\n                  <span className=\"utrecht-topnav__link\"><i className=\"far fa-user mr-2\"></i>{getUser().name}</span>\n                )}\n              </li>\n              <li className=\"utrecht-topnav__item\">\n                {isLoggedIn() ? (\n                  <span className=\"utrecht-topnav__link\" onClick={handleLogout}>\n                    <i className=\"fas fa-sign-out-alt mr-2\"></i>\n                    Uitloggen\n                  </span>\n                ) : (\n                  <a\n                    className=\"utrecht-topnav__link\"\n                    href={\n                      context.baseUrl +\n                      \"/digid/login?returnUrl=\" +\n                      context.frontendUrl +\n                      \"/redirect\"\n                    }\n                  > <i className=\"fas fa-sign-in-alt mr-2\"></i>\n                    Inloggen\n                  </a>\n                )}\n              </li>\n            </ul>\n          </div>\n      </nav>\n        </div>\n    </div>\n  );\n}\n","import * as React from \"react\";\nimport Footer from \"./footer\";\nimport Header from \"./header\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport MainMenu from \"./menu\";\nimport { Helmet } from \"react-helmet\";\n\nexport default function Layout({ children }) {\n\n  React.useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      setContext({\n        defaultTheme: window.GATSBY_DEFAULT_THEME,\n      });\n    }\n  }, []);\n  const [context, setContext] = React.useState({\n    defaultTheme: \"\",\n  });\n\n  return (\n    <>\n      <Helmet>\n        <link\n          rel=\"stylesheet\"\n          href={`https://unpkg.com/@conductionnl/${context.defaultTheme}-design-tokens/dist/index.css`}\n        />\n      </Helmet>\n      <div className={`utrecht-document ${context.defaultTheme}-theme`}>\n        <div className=\"utrecht-page\">\n          <Header />\n          <MainMenu />\n          <div className=\"utrecht-page-content\">\n            <div className=\"container py-4\">{children}</div>\n          </div>\n          <Footer />\n        </div>\n      </div>\n    </>\n  );\n}\n","import * as React from \"react\";\nimport Layout from \"../../components/common/layout\";\nimport { navigate } from \"gatsby-link\";\nimport { setUser } from \"../../services/auth\";\n\nconst Redirect = () => {\n  const [context, setContext] = React.useState(null);\n\n  React.useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      if (context === null) {\n        setContext({\n          meUrl: window.GATSBY_ME_URL,\n          loginRedirect: window.GATSBY_REDIRECT_URL,\n        });\n      } else {\n        handleLogin();\n      }\n    }\n  }, [context]);\n\n  const handleLogin = () => {\n    fetch(context.meUrl, {\n      credentials: \"include\",\n      headers: { \"Content-Type\": \"application/json\" },\n    })\n      .then(function (response) {\n        return response.json();\n      })\n      .then(function (data) {\n        setUser(data);\n\n        if (context.loginRedirect !== \"null\") {\n          navigate(\"/\" + context.loginRedirect);\n        } else {\n          navigate(\"/\");\n        }\n      });\n  };\n\n  return (\n    <Layout>\n      <main>\n        <div className=\"row text-center\">\n          <div className=\"col-12\">\n            <h1 className=\"utrecht-heading-1\">Aan het inloggen</h1>\n          </div>\n          <div className=\"col-12\">\n            <h4 className=\"utrecht-heading-4\">even geduld alstublieft..</h4>\n          </div>\n          <div className=\"col-12 mt-5\">\n            <div\n              className=\"spinner-border text-primary redirect-loader-size\"\n              role=\"status\"\n            >\n              <span className=\"visually-hidden\">Loading...</span>\n            </div>\n          </div>\n        </div>\n      </main>\n    </Layout>\n  );\n};\n\nexport default Redirect;\n","export const isBrowser = () => typeof window !== \"undefined\";\n\nexport const getUser = () =>\n  isBrowser() && window.sessionStorage.getItem(\"user\")\n    ? JSON.parse(window.sessionStorage.getItem(\"user\") as string)\n    : {};\n\nexport const setUser = (user: Record<string, unknown>) =>\n  window.sessionStorage.setItem(\"user\", JSON.stringify(user));\n\nexport const handleLogin = (data: Record<string, unknown>) => {\n  return setUser(data);\n};\n\nexport const isLoggedIn = () => {\n  const user = getUser();\n  return !!user.username;\n};\n\nexport const logout = () => {\n  setUser({});\n};\n"],"names":["Footer","className","to","color","href","Header","src","Logo","MainMenu","React","window","setContext","baseUrl","GATSBY_BASE_URL","frontendUrl","GATSBY_FRONTEND_URL","context","isLoggedIn","getUser","name","onClick","logout","navigate","Layout","children","defaultTheme","GATSBY_DEFAULT_THEME","Helmet","rel","meUrl","GATSBY_ME_URL","loginRedirect","GATSBY_REDIRECT_URL","handleLogin","fetch","credentials","headers","then","response","json","data","setUser","role","sessionStorage","getItem","JSON","parse","user","setItem","stringify","username"],"sourceRoot":""}