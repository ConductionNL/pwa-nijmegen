"use strict";(self.webpackChunkpwa=self.webpackChunkpwa||[]).push([[90],{8:function(e,n,a){a.d(n,{v:function(){return r}});var t=a(7294),i=a(333);function r(){return t.createElement(i.ActionMenu,{items:[{name:"Diensten",icon:"fas fa-shopping-cart",link:"/products"},{name:"Mijn aanvragen",icon:"fas fa-list-alt",link:"/cases"},{name:"Mijn gegevens",icon:"fas fa-id-card-alt",link:"/data"},{name:"Mijn kluis",icon:"fas fa-lock",link:"/vault"}],breakpoint:i.BreakpointActionMenu.mobile})}},1154:function(e,n,a){a.r(n),a.d(n,{default:function(){return v}});var t=a(3295),i=a(7294),r=a(649),l=a(8),o=a(6368);function c(e,n,a){var t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download",n+a),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}var s=a(2663),u=a.n(s),m=a(9963),d=a(8037);function p(){var e=i.useState(null),n=e[0],a=e[1];i.useEffect((function(){"undefined"!=typeof window&&null===n?a({apiUrl:window.GATSBY_API_URL,frontendUrl:window.GATSBY_FRONTEND_URL,organizationUrl:window.GATSBY_ORGANIZATION,waardepapierenPaymentRequired:window.WAARDEPAPIEREN_PAYMENT_REQUIRED}):(0,m.jl)()&&fetch(n.apiUrl+"/gateways/waardepapieren-register/certificates?person="+(0,m.PR)().username,{credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){l(e["hydra:member"])}))}),[n]);var t=i.useState(null),r=t[0],l=t[1],s=[{name:"Akte van geboorte",value:"akte_van_geboorte"},{name:"Verklaring van in leven zijn",value:"verklaring_van_in_leven_zijn"},{name:"Uitreksel basis registratie personen",value:"uitreksel_basis_registratie_personen"}],p=function(e){e.preventDefault();var a=e.target.waardepapier.value,t=null;switch(a){case"akte_van_geboorte":case"verklaring_van_in_leven_zijn":t=1400;break;case"uitreksel_basis_registratie_personen":break;default:t=null}if(null!==t){var i={organization:n.organizationUrl,price:t,type:a,person:(0,m.PR)().id,name:(0,m.PR)().name,ingenicoUrl:n.frontendUrl+"/pay-certificate"};n.waardepapierenPaymentRequired?fetch(n.apiUrl+"/gateways/waardepapieren-service/payments",{credentials:"include",method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"undefined"!=typeof window&&(window.sessionStorage.setItem("payment",JSON.stringify(e)),(0,d.c4)("/pay-certificate"))})):fetch(n.apiUrl+"/gateways/waardepapieren-service/certificates",{credentials:"include",method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return l(null),fetch(n.apiUrl+"/gateways/waardepapieren-register/certificates?person="+(0,m.PR)().username,{credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){l(e["hydra:member"])})),(0,d.c4)("/vault"),e.json();throw new Error("Something went wrong")})).then((function(e){}))}};return i.createElement(i.Fragment,null,i.createElement("div",null,i.createElement("div",{style:{textAlign:"right"}},i.createElement("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#claims"},"Claims")),i.createElement(u(),{title:"Claims",id:"claims",body:function(){return i.createElement("form",{onSubmit:p,className:"mb-4"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-12"},i.createElement(o.SelectInputComponent,{required:!0,options:s,name:"waardepapier",nameOverride:"Type Claim",id:"waardepapieren"})),i.createElement("br",null),i.createElement("div",{className:"col-12"},i.createElement("button",{"data-bs-dismiss":"modal",className:"utrecht-button"},"Aanvragen"))))}})),null!==r?i.createElement(o.WaardepapierenTable,{rows:r,fileFunction:c}):i.createElement(o.WaardepapierenTable,{rows:[],fileFunction:c}))}var f=a(7406),v=function(){return i.createElement(r.Z,null,i.createElement("main",null,i.createElement("div",{className:"container"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-2"},i.createElement(l.v,null),i.createElement(t.BottomNavigation,{items:[{name:"Diensten",icon:"fas fa-shopping-cart",link:"/index"},{name:"Mijn aanvragen",icon:"fas fa-list-alt",link:""},{name:"Mijn gegevens",icon:"fas fa-id-card-alt",link:""},{name:"Mijn kluis",icon:"fas fa-lock",link:""}],breakpoint:t.BreakpointBottomNavigation.mobile})),i.createElement("div",{className:"col-10"},i.createElement(f.Breadcrumbs,{items:[{render:function(){return"Home"},name:"home",link:"/index"},{render:function(){return"Mijn kluis"},name:"vault",link:"/vault"}]}),i.createElement("h4",{className:"utrecht-heading-1"},"Mijn kluis"),i.createElement("br",null),i.createElement(i.Fragment,null,i.createElement(p,null)))))))}}}]);
//# sourceMappingURL=component---src-pages-vault-index-tsx-b120838c43e68a85d4e4.js.map